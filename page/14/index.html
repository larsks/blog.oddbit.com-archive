<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>The Odd Bit &middot; The Odd Bit</title>
        <meta name="description" content="One of these things is not like the others">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.55.5" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="stylesheet" href="https://blog.oddbit.com/dist/style.min.a5232d2ce0dc44278414dddefd21794a5d389a3979a43b61f62d75b3ad9a5a3b.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        
<!-- alternate output formats -->

<link rel="alternate" type="application/rss+xml" href="https://blog.oddbit.com/rss.xml" title="The Odd Bit" />
<link rel="alternate" type="application/atom+xml" href="https://blog.oddbit.com/atom.xml" title="The Odd Bit" />

        <link rel="stylesheet" href="/css/sx.css">
<link rel="stylesheet" href="/css/pull-request.css">
<link rel="stylesheet" href="/css/archive.css">

        
    </head>
    <body>
        

        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a title="The Odd Bit" href="https://blog.oddbit.com/">The Odd Bit</a>
                            </h1>
                        
                        <a class="button-square" href="https://blog.oddbit.com/rss.xml"><i class="fa fa-rss"></i></a>
                        
                            <a class="button-square button-social hint--top" data-hint="Twitter" title="Twitter" href="https://twitter.com/larsks" rel="me">
                                <i class="fa fa-twitter"></i>
                            </a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" title="Github" href="https://github.com/larsks" rel="me">
                                <i class="fa fa-github-alt"></i>
                            </a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Stack Overflow" title="Stack Overflow" href="https://stackoverflow.com/users/147356/larsks" rel="me">
                                <i class="fa fa-stack-overflow"></i>
                            </a>
                        
                        
                        
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a title="Home" href="/">Home</a>
    </li>

    <li class="site-nav-item">
        <a title="Tags" href="/tags">Tags</a>
    </li>

    <li class="site-nav-item">
        <a title="Archives" href="/archives">Archives</a>
    </li>

    <li class="site-nav-item">
        <a title="Answers" href="/about/stackoverflow/">Answers</a>
    </li>

    <li class="site-nav-item">
        <a title="GPG Key" href="/about/gpg/">GPG Key</a>
    </li>

                    </ul>
                </div>
            </header>

            <div id="container">


<div id="post-index" class="container" itemscope="" itemtype="https://schema.org/Blog">
    


    <ol class="post-list">
        
        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2013-02-01-dhcpcd-under-lxc/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Running dhcpcd under LXC</h4>
        <time class="post-stub-date" datetime="2013-02-01">Published Fri, Feb 1, 2013</time>
        
    </a>

    
    <p class="post-stub-summary">
    I&rsquo;ve been working with Arch Linux recently, which uses dhcpcd as its default DHCP agent. If you try booting Arch inside an LXC container, you will find that dhcpcd is unable to configure your network interfaces. Running it by hand you will first see the following error:
# dhcpcd eth0 dhcpcd[492]: version 5.6.4 starting dhcpcd[492]: eth0: if_init: Read-only file system dhcpcd[492]: eth0: interface not found or invalid  This happens because dhcpcd is trying to modify a sysctl value.
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2013-02-01-dhcpcd-under-lxc/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2013-01-28-lxc-cant-remove-cgroup/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Cleaning up LXC cgroups</h4>
        <time class="post-stub-date" datetime="2013-01-28">Published Mon, Jan 28, 2013</time>
        
    </a>

    
    <p class="post-stub-summary">
    I spent some time today looking at systemd (44) under Fedora (17). When stopping an LXC container using lxc-stop, I would always encounter this problem:
# lxc-stop -n node0 lxc-start: Device or resource busy - failed to remove cgroup '/sys/fs/cgroup/systemd/node0  This prevents one from starting a new container with the same name:
# lxc-start -n node0 lxc-start: Device or resource busy - failed to remove previous cgroup '/sys/fs/cgroup/systemd/node0' lxc-start: failed to spawn 'node0' lxc-start: Device or resource busy - failed to remove cgroup '/sys/fs/cgroup/systemd/node0'  You can correct the problem manually by removing all the child cgroups underneath /sys/fs/cgroup/systemd/&lt;container&gt;, like this:
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2013-01-28-lxc-cant-remove-cgroup/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2013-01-28-how-do-i-lxc-console/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">How do I LXC console?</h4>
        <time class="post-stub-date" datetime="2013-01-28">Published Mon, Jan 28, 2013</time>
        
    </a>

    
    <p class="post-stub-summary">
    It took me an unreasonably long time to boot an LXC container with working console access. For the record:
When you boot an LXC container, the console appears to be attached to a pts device. For example, when booting with the console attached to your current terminal:
# lxc-start -n node0 ... node0 login: root Last login: Mon Jan 28 16:35:19 on tty1 [root@node0 ~]# tty /dev/console [root@node0 ~]# ls -l /dev/console crw------- 1 root tty 136, 12 Jan 28 16:36 /dev/console  This is also true when you attach to a container using lxc-console:
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2013-01-28-how-do-i-lxc-console/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2013-01-28-net-with-no-net/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Systemd and the case of the missing network</h4>
        <time class="post-stub-date" datetime="2013-01-28">Published Mon, Jan 28, 2013</time>
        
    </a>

    
    <p class="post-stub-summary">
    I was intrigued by this post on socket activated containers with systemd. The basic premise is:
 systemd opens a socket on the host and listens for connections. When a client connections, systemd spawns a new container. The host systemd passes the connected socket to the container systemd. Services in the container receive these sockets from the container systemd.  This is a very neat idea, since it delegates all the socket listening to the host and only spins up container and service resources when necessary.
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2013-01-28-net-with-no-net/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2013-01-25-archlinux-second-look/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">A second look at Arch Linux</h4>
        <time class="post-stub-date" datetime="2013-01-25">Published Fri, Jan 25, 2013</time>
        
    </a>

    
    <p class="post-stub-summary">
    This is a followup to an earlier post about Arch Linux.
I&rsquo;ve since spent a little more time working with Arch, and these are the things I like:
 The base system is very small and has a very short boot time. I replaced Ubuntu on my old Eee PC with Arch and suddenly the boot time is reasonable (&lt; 10 seconds to a text prompt, &lt; 30 seconds to a full GUI login).
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2013-01-25-archlinux-second-look/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2012-12-21-parsing-libvirt-xml/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Parsing Libvirt XML with xmllint</h4>
        <time class="post-stub-date" datetime="2012-12-21">Published Fri, Dec 21, 2012</time>
        
    </a>

    
    <p class="post-stub-summary">
    I&rsquo;ve been playing around with the LXC support in libvirt recently, and I&rsquo;m trying to use a model where each LXC instance is backed by a dedicated LVM volume. This means that the process of starting an instance is:
 mount the instance root filesystem if necessary start the instance  It&rsquo;s annoying to have to do this by hand. I could simply add all the LXC filesystems to /etc/fstab, but this would mean and extra step when creating and deleting each instance.
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2012-12-21-parsing-libvirt-xml/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2012-12-15-get-vm-ip/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Getting the IP address of a libvirt domain</h4>
        <time class="post-stub-date" datetime="2012-12-15">Published Sat, Dec 15, 2012</time>
        
    </a>

    
    <p class="post-stub-summary">
    If you are starting virtual machines via libvirt, and you have attached them to the default network, there is a very simple method you can use to determine the address assigned to your running instance:
 Libvirt runs dnsmasq for the default network, and saves leases in a local file (/var/lib/libvirt/dnsmasq/default.leases under RHEL). You can get the MAC address assigned to a virtual machine by querying the domain XML description.  Putting this together gets us something along the lines of:
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2012-12-15-get-vm-ip/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2012-12-10-archlinux/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">A first look at Arch Linux</h4>
        <time class="post-stub-date" datetime="2012-12-10">Published Mon, Dec 10, 2012</time>
        
    </a>

    
    <p class="post-stub-summary">
    I decided to take a look at Arch Linux this evening. It&rsquo;s an interesting idea, but has a long way to go:
 The installer configured the wrong root= command line into my syslinux configuration, resulting in a system that wouldn&rsquo;t boot.  Update: As far as I can tell, the syslinux-install_update command doesn&rsquo;t actually make any attempt to configure syslinux.cfg at all.
 I tried to install libvirt and lxc, but there are unresolved library dependencies&hellip;the virsh command apparently requires libX11.
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2012-12-10-archlinux/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2012-11-27-avahi-service-discovery/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Service discovery in the cloud using Avahi</h4>
        <time class="post-stub-date" datetime="2012-11-27">Published Tue, Nov 27, 2012</time>
        
    </a>

    
    <p class="post-stub-summary">
    I&rsquo;m been writing a provisioning tool for OpenStack recently, and I&rsquo;ve put together a demo configuration that installs a simple cluster consisting of three backend nodes and a front-end http proxy. I needed a way for the backend servers to discover the ip address of the frontend server. Since in my target environment everything would be on the same layer-2 network segment, service discovery with multicast DNS (mDNS) seemed like the way to go.
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2012-11-27-avahi-service-discovery/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2012-11-26-using-oracle-jdk/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Using Oracle JDK under CentOS</h4>
        <time class="post-stub-date" datetime="2012-11-26">Published Mon, Nov 26, 2012</time>
        
    </a>

    
    <p class="post-stub-summary">
    I needed to replace the native OpenJDK based Java VM with the Oracle Java distribution on one of our CentOS servers. In order to do it cleanly I wanted to set up the alternatives system to handle it, but it took a while to figure out the exact syntax.
For the record (and because I will probably forget):
alternatives --install /usr/bin/java java /usr/java/latest/bin/java 2000 \ --slave /usr/bin/keytool keytool /usr/java/latest/bin/keytool \ --slave /usr/bin/rmiregistry rmiregistry /usr/java/latest/bin/rmiregistry  
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2012-11-26-using-oracle-jdk/">(Read more...)</a>
    </p>
    
    
</li>


        
    </ol>

    <div class="post-navigation">
        

    <nav class="pagination" role="navigation">
        <span class="page-number">Page 14 of 18</span>
        
            <a class="newer-posts" href="/page/13/">&larr; Newer Posts</a>
        
        
            <a class="older-posts" href="/page/15/">Older Posts &rarr;</a>
        
    </nav>

    </div>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a title="The Odd Bit" href="https://blog.oddbit.com/">The Odd Bit</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#">
                        <i class="fa fa-angle-up"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2019 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="https://blog.oddbit.com/js/jquery-1.11.3.min.js"></script>
        <script src="https://blog.oddbit.com/js/jquery.fitvids.js"></script>
        
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        
        
        <script src="https://blog.oddbit.com/js/scripts.js"></script>
    </body>
</html>

