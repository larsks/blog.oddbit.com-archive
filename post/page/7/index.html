<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title> &middot; The Odd Bit</title>
        <meta name="description" content="One of these things is not like the others">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.55.5" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="stylesheet" href="https://blog.oddbit.com/dist/style.min.a5232d2ce0dc44278414dddefd21794a5d389a3979a43b61f62d75b3ad9a5a3b.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        
<!-- alternate output formats -->

<link rel="alternate" type="application/rss+xml" href="https://blog.oddbit.com/post/rss.xml" title="" />

        <link rel="stylesheet" href="/css/sx.css">
<link rel="stylesheet" href="/css/pull-request.css">

        
    </head>
    <body>
        

        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a title="The Odd Bit" href="https://blog.oddbit.com/">The Odd Bit</a>
                            </h1>
                        
                        <a class="button-square" href="https://blog.oddbit.com/rss.xml"><i class="fa fa-rss"></i></a>
                        
                            <a class="button-square button-social hint--top" data-hint="Twitter" title="Twitter" href="https://twitter.com/larsks" rel="me">
                                <i class="fa fa-twitter"></i>
                            </a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" title="Github" href="https://github.com/larsks" rel="me">
                                <i class="fa fa-github-alt"></i>
                            </a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Stack Overflow" title="Stack Overflow" href="https://stackoverflow.com/users/147356/larsks" rel="me">
                                <i class="fa fa-stack-overflow"></i>
                            </a>
                        
                        
                        
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a title="Home" href="/">Home</a>
    </li>

    <li class="site-nav-item">
        <a title="Tags" href="/tags">Tags</a>
    </li>

    <li class="site-nav-item">
        <a title="Answers" href="/about/stackoverflow/">Answers</a>
    </li>

    <li class="site-nav-item">
        <a title="GPG Key" href="/about/gpg/">GPG Key</a>
    </li>

                    </ul>
                </div>
            </header>

            <div id="container">


<div id="post-index" class="container">
    


    <ol class="post-list">
        
        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2015-02-24-visualizing-pacemaker-constraints/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Visualizing Pacemaker resource constraints</h4>
        <time class="post-stub-date" datetime="2015-02-24">Published Tue, Feb 24, 2015</time>
        
    </a>

    
    <p class="post-stub-summary">
    If a picture is worth a thousand words, then code that generates pictures from words is worth&hellip;uh, anyway, I wrote a script that produces dot output from Pacemaker start and colocation constraints:
https://github.com/larsks/pacemaker-tools/
You can pass this output to graphviz to create visualizations of your Pacemaker resource constraints.
The graph-constraints.py script in that repository consumes the output of cibadmin -Q and can produce output for either start constraints (-S, the default) or colocation constraints (-C).
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2015-02-24-visualizing-pacemaker-constraints/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2015-02-19-stupid-pacemaker-xml-tricks/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Stupid Pacemaker XML tricks</h4>
        <time class="post-stub-date" datetime="2015-02-19">Published Thu, Feb 19, 2015</time>
        
    </a>

    
    <p class="post-stub-summary">
    I&rsquo;ve recently spent some time working with Pacemaker, and ended up with an interesting collection of XPath snippets that I am publishing here for your use and/or amusement.
Check if there are any inactive resources pcs status xml | xmllint --xpath '//resource[@active=&quot;false&quot;]' - &gt;&amp;/dev/null &amp;&amp; echo &quot;There are inactive resources&quot;  This selects any resource (//resource) in the output of pcs status xml that has the attribute active set to false.
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2015-02-19-stupid-pacemaker-xml-tricks/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2015-02-13-unpacking-docker-images/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Unpacking Docker images with Undocker</h4>
        <time class="post-stub-date" datetime="2015-02-13">Published Fri, Feb 13, 2015</time>
        
    </a>

    
    <p class="post-stub-summary">
    In some ways, the most exciting thing about Docker isn&rsquo;t the ability to start containers. That&rsquo;s been around for a long time in various forms, such as LXC or OpenVZ. What Docker brought to the party was a convenient method of building and distributing the filesystems necessary for running containers. Suddenly, it was easy to build a containerized service and to share it with other people.
I was taking a closer at the systemd-nspawn command, which it seems has been developing it&rsquo;s own set of container-related superpowers recently, including a number of options for setting up the network environment of a container.
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2015-02-13-unpacking-docker-images/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2015-02-11-installing-novadocker-with-devstack/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Installing nova-docker with devstack</h4>
        <time class="post-stub-date" datetime="2015-02-11">Published Wed, Feb 11, 2015</time>
        
    </a>

    
    <p class="post-stub-summary">
    This is a long-form response to this question, and describes how to get the nova-docker driver up running with devstack under Ubuntu 14.04 (Trusty). I wrote a similar post for Fedora 21, although that one was using the RDO Juno packages, while this one is using devstack and the upstream sources.
Getting started We&rsquo;ll be using the Ubuntu 14.04 cloud image (because my test environment runs on OpenStack).
First, let&rsquo;s install a few prerequisites:
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2015-02-11-installing-novadocker-with-devstack/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2015-02-10-external-networking-for-kubernetes-services/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">External networking for Kubernetes services</h4>
        <time class="post-stub-date" datetime="2015-02-10">Published Tue, Feb 10, 2015</time>
        
    </a>

    
    <p class="post-stub-summary">
    I have recently started running some &ldquo;real&rdquo; services (that is, &ldquo;services being consumed by someone other than myself&rdquo;) on top of Kubernetes (running on bare metal), which means I suddenly had to confront the question of how to provide external access to Kubernetes hosted services. Kubernetes provides two solutions to this problem, neither of which is particularly attractive out of the box:
 There is a field createExternalLoadBalancer that can be set in a service description.
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2015-02-10-external-networking-for-kubernetes-services/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2015-02-06-installing-nova-docker-on-fedora-21/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Installing nova-docker on Fedora 21/RDO Juno</h4>
        <time class="post-stub-date" datetime="2015-02-06">Published Fri, Feb 6, 2015</time>
        
    </a>

    
    <p class="post-stub-summary">
    This post comes about indirectly by a request on IRC in #rdo for help getting nova-docker installed on Fedora 21. I ran through the process from start to finish and decided to write everything down for posterity.
Getting started I started with the Fedora 21 Cloud Image, because I&rsquo;m installing onto OpenStack and the cloud images include some features that are useful in this environment.
We&rsquo;ll be using OpenStack packages from the RDO Juno repository.
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2015-02-06-installing-nova-docker-on-fedora-21/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2015-02-05-creating-minimal-docker-images/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Creating minimal Docker images from dynamically linked ELF binaries</h4>
        <time class="post-stub-date" datetime="2015-02-05">Published Thu, Feb 5, 2015</time>
        
    </a>

    
    <p class="post-stub-summary">
    In this post, we&rsquo;ll look at a method for building minimal Docker images for dynamically linked ELF binaries, and then at a tool for automating this process.
It is tempting, when creating a simple Docker image, to start with one of the images provided by the major distributions. For example, if you need an image that provides tcpdump for use on your Atomic host, you might do something like:
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2015-02-05-creating-minimal-docker-images/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2015-02-05-filtering-libvirt-xml-in-nova/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Filtering libvirt XML in Nova</h4>
        <time class="post-stub-date" datetime="2015-02-05">Published Thu, Feb 5, 2015</time>
        
    </a>

    
    <p class="post-stub-summary">
    I saw a request from a customer float by the other day regarding the ability to filter the XML used to create Nova instances in libvirt. The customer effectively wanted to blacklist a variety of devices (and device types). The consensus seems to be &ldquo;you can&rsquo;t do this right now and upstream is unlikely to accept patches that implement this behavior&rdquo;, but it sounded like an interesting problem, so&hellip;
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2015-02-05-filtering-libvirt-xml-in-nova/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2015-01-18-docker-vs-privatetmp/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Docker vs. PrivateTmp</h4>
        <time class="post-stub-date" datetime="2015-01-18">Published Sun, Jan 18, 2015</time>
        
    </a>

    
    <p class="post-stub-summary">
    While working with Docker the other day, I ran into an undesirable interaction between Docker and systemd services that utilize the PrivateTmp directive.
The PrivateTmp directive, if true, &ldquo;sets up a new file system namespace for the executed processes and mounts private /tmp and /var/tmp directories inside it that is not shared by processes outside of the namespace&rdquo;. This is a great idea from a security perspective, but can cause some unanticipated consequences.
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2015-01-18-docker-vs-privatetmp/">(Read more...)</a>
    </p>
    
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="https://blog.oddbit.com/post/2015-01-17-running-novalibvirt-and-novadocker-on-the-same-host/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Running nova-libvirt and nova-docker on the same host</h4>
        <time class="post-stub-date" datetime="2015-01-17">Published Sat, Jan 17, 2015</time>
        
    </a>

    
    <p class="post-stub-summary">
    I regularly use OpenStack on my laptop with libvirt as my hypervisor. I was interested in experimenting with recent versions of the nova-docker driver, but I didn&rsquo;t have a spare system available on which to run the driver, and I use my regular nova-compute service often enough that I didn&rsquo;t want to simply disable it temporarily in favor of nova-docker.
NB As pointed out by gustavo in the comments, running two neutron-openvswitch-agents on the same host &ndash; as suggested in this article &ndash; is going to lead to nothing but sadness and doom.
    </p>

    
    <p class="post-stub-more">
      <a href="https://blog.oddbit.com/post/2015-01-17-running-novalibvirt-and-novadocker-on-the-same-host/">(Read more...)</a>
    </p>
    
    
</li>


        
    </ol>

    <div class="post-navigation">
        

    <nav class="pagination" role="navigation">
        <span class="page-number">Page 7 of 18</span>
        
            <a class="newer-posts" href="/post/page/6/">&larr; Newer Posts</a>
        
        
            <a class="older-posts" href="/post/page/8/">Older Posts &rarr;</a>
        
    </nav>

    </div>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a title="The Odd Bit" href="https://blog.oddbit.com/">The Odd Bit</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#">
                        <i class="fa fa-angle-up"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2019 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="https://blog.oddbit.com/js/jquery-1.11.3.min.js"></script>
        <script src="https://blog.oddbit.com/js/jquery.fitvids.js"></script>
        
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        
        
        <script src="https://blog.oddbit.com/js/scripts.js"></script>
    </body>
</html>
