<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Posts &middot; The Odd Bit</title>
        <meta name="description" content="One of these things is not like the others">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.55.5" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link rel="stylesheet" href="/dist/styles.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        
<!-- alternate output formats -->

<link rel="alternate" type="application/rss+xml" href="/post/rss.xml" title="Posts" />

        
        
    </head>
    <body>
        

        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a title="The Odd Bit" href="/">The Odd Bit</a>
                            </h1>
                        
                        <a class="button-square" href="/rss.xml"><i class="fa fa-rss"></i></a>
                        
                            <a class="button-square button-social hint--top" data-hint="Twitter" title="Twitter" href="https://twitter.com/larsks" rel="me">
                                <i class="fa fa-twitter"></i>
                            </a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" title="Github" href="https://github.com/larsks" rel="me">
                                <i class="fa fa-github-alt"></i>
                            </a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Stack Overflow" title="Stack Overflow" href="https://stackoverflow.com/users/147356/larsks" rel="me">
                                <i class="fa fa-stack-overflow"></i>
                            </a>
                        
                        
                        
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a title="Home" href="/">Home</a>
    </li>

    <li class="site-nav-item">
        <a title="GPG Key" href="/about/gpg">GPG Key</a>
    </li>

    <li class="site-nav-item">
        <a title="Tags" href="/tags">Tags</a>
    </li>

                    </ul>
                </div>
            </header>

            <div id="container">


<div id="post-index" class="container">
    


    <ol class="post-list">
        
        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="/post/2018-02-26-grouping-aggregation-queries-i/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Grouping aggregation queries in Gnocchi 4.0.x</h4>
        <time class="post-stub-date" datetime="2018-02-26">Published Mon, Feb 26, 2018</time>
        
    </a>

    
    <p class="post-stub-summary">
    In this article, we&rsquo;re going to ask Gnocchi (the OpenStack telemetry storage service) how much memory was used, on average, over the course of each day by each project in an OpenStack environment.
Environment I&rsquo;m working with an OpenStack &ldquo;Pike&rdquo; deployment, which means I have Gnocchi 4.0.x. More recent versions of Gnocchi (4.1.x and later) have a new aggregation API called dynamic aggregates, but that isn&rsquo;t available in 4.0.x so in this article we&rsquo;ll be using the legacy /v1/aggregations API.
    <span class="post-stub-more"><a href="/post/2018-02-26-grouping-aggregation-queries-i/">(more)</a></span>
    </p>
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="/post/2018-02-08-listing-iptables-rules-with-li/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Listing iptables rules with line numbers</h4>
        <time class="post-stub-date" datetime="2018-02-08">Published Thu, Feb 8, 2018</time>
        
    </a>

    
    <p class="post-stub-summary">
    You can list iptables rules with rule numbers using the --line-numbers option, but this only works in list (-L) mode. I find it much more convenient to view rules using the output from iptables -S or iptables-save.
You can augment the output from these commands with rule numbers with the following awk script:
#!/bin/awk -f state == 0 &amp;&amp; /^-A/ {state=1; chain=$2; counter=1; printf &quot;\n&quot;} state == 1 &amp;&amp; $2 !
    <span class="post-stub-more"><a href="/post/2018-02-08-listing-iptables-rules-with-li/">(more)</a></span>
    </p>
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="/post/2018-01-26-administrivia/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Pelican and theme update</h4>
        <time class="post-stub-date" datetime="2018-01-26">Published Fri, Jan 26, 2018</time>
        
    </a>

    
    <p class="post-stub-summary">
    I&rsquo;ve just refreshed the version of Pelican used to generate this blog, along with the associated themes and plugins. It all seems to be working, but if you spot a problem feel free to drop me a line.
    <span class="post-stub-more"><a href="/post/2018-01-26-administrivia/">(more)</a></span>
    </p>
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="/post/2018-01-25-fun-with-devicemapper-snapshots/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Fun with devicemapper snapshots</h4>
        <time class="post-stub-date" datetime="2018-01-25">Published Thu, Jan 25, 2018</time>
        
    </a>

    
    <p class="post-stub-summary">
    I find myself working with Raspbian disk images fairly often. A typical workflow is:
 Download the disk image. Mount the filesystem somewhere to check something. Make some changes or install packages just to check something else. Crap I&rsquo;ve made changes.  &hellip;at which point I need to fetch a new copy of the image next time I want to start fresh.
Sure, I could just make a copy of the image and work from there, but what fun is that?
    <span class="post-stub-more"><a href="/post/2018-01-25-fun-with-devicemapper-snapshots/">(more)</a></span>
    </p>
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="/post/2018-01-24-safely-restarting-an-openstack-server-wi/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Safely restarting an OpenStack server with Ansible</h4>
        <time class="post-stub-date" datetime="2018-01-24">Published Wed, Jan 24, 2018</time>
        
    </a>

    
    <p class="post-stub-summary">
    The other day on #ansible, someone was looking for a way to safely shut down a Nova server, wait for it to stop, and then start it up again using the openstack cli. The first part seemed easy:
- hosts: myserver tasks: - name: shut down the server command: poweroff become: true  &hellip;but that will actually fail with the following result:
TASK [shut down server] ************************************* fatal: [myserver]: UNREACHABLE! =&gt; {&quot;changed&quot;: false, &quot;msg&quot;: &quot;Failed to connect to the host via ssh: Shared connection to 10.
    <span class="post-stub-more"><a href="/post/2018-01-24-safely-restarting-an-openstack-server-wi/">(more)</a></span>
    </p>
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="/post/2017-09-26-some-notes-on-pwm-on-the-raspberry-pi/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Some notes on PWM on the Raspberry Pi</h4>
        <time class="post-stub-date" datetime="2017-09-26">Published Tue, Sep 26, 2017</time>
        
    </a>

    
    <p class="post-stub-summary">
    I was recently working on a project in which I wanted to drive a simple piezo buzzer attached to a GPIO pin on a Raspberry Pi. I was already using the RPi.GPIO module in my project so that seemed like a logical place to start, but I ran into a few issues.
You drive a piezo buzzer by generating a PWM signal with the appropriate frequency. The RPi.GPIO module implements PWM via software, which is tricky on a non-realtime system.
    <span class="post-stub-more"><a href="/post/2017-09-26-some-notes-on-pwm-on-the-raspberry-pi/">(more)</a></span>
    </p>
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="/post/2017-08-02-ansible-for-infrastructure-testing/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Ansible for Infrastructure Testing</h4>
        <time class="post-stub-date" datetime="2017-08-02">Published Wed, Aug 2, 2017</time>
        
    </a>

    
    <p class="post-stub-summary">
    At $JOB we often find ourselves at customer sites where we see the same set of basic problems that we have previously encountered elsewhere (&ldquo;your clocks aren&rsquo;t in sync&rdquo; or &ldquo;your filesystem is full&rdquo; or &ldquo;you haven&rsquo;t installed a critical update&rdquo;, etc). We would like a simple tool that could be run either by the customer or by our own engineers to test for and report on these common issues.
    <span class="post-stub-more"><a href="/post/2017-08-02-ansible-for-infrastructure-testing/">(more)</a></span>
    </p>
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="/post/2017-07-07-better-bulk-filtering-for-gmail/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">Better bulk filtering for Gmail</h4>
        <time class="post-stub-date" datetime="2017-07-07">Published Fri, Jul 7, 2017</time>
        
    </a>

    
    <p class="post-stub-summary">
    I use Gmail extensively for my personal email, and recently my workplace has been migrated over to Gmail as well. I find that for my work email I rely much more extensively on filters and labels to organize things (like zillions of internal and upstream mailing lists), and that has posed some challenges. While Gmail is in general fairly snappy, attempting to apply an action to thousands of messages (for example, trying to mark 16000 messages as &ldquo;read&rdquo;, or applying a new filter to all your existing messages) results in a very poor experience: it is not possible to interact with Gmail (in the same tab) while the action is running, and frequently actions will timeout.
    <span class="post-stub-more"><a href="/post/2017-07-07-better-bulk-filtering-for-gmail/">(more)</a></span>
    </p>
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="/post/2017-06-14-openstack-containers-and-logging/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">OpenStack, Containers, and Logging</h4>
        <time class="post-stub-date" datetime="2017-06-14">Published Wed, Jun 14, 2017</time>
        
    </a>

    
    <p class="post-stub-summary">
    I&rsquo;ve been thinking about logging in the context of OpenStack and containerized service deployments. I&rsquo;d like to lay out some of my thoughts on this topic and see if people think I am talking crazy or not.
There are effectively three different mechanisms that an application can use to emit log messages:
 Via some logging-specific API, such as the legacy syslog API By writing a byte stream to stdout/stderr By writing a byte stream to a file  A substantial advantage to the first mechanism (using a logging API) is that the application is logging messages rather than bytes.
    <span class="post-stub-more"><a href="/post/2017-06-14-openstack-containers-and-logging/">(more)</a></span>
    </p>
    
</li>


        
            <li class="post-stub" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
    <a href="/post/2017-05-25-faa-cannot-require-drone-registration/" itemprop="url" title="Go to post detail">
        <h4 class="post-stub-title" itemprop="name">FAA Cannot Require Drone Registration</h4>
        <time class="post-stub-date" datetime="2017-05-25">Published Thu, May 25, 2017</time>
        
    </a>

    
    <p class="post-stub-summary">
    This is now old news if you&rsquo;re already following the drone industry, but if you&rsquo;re not, I&rsquo;d like to highlight a recent decision made by the US Court of Appeals regarding the FAA&rsquo;s drone registration requirements.
To place this in context, back in 2015 the FAA established a new set of regulations (the &ldquo;Registration Rule&rdquo;) requiring anyone with a UAV (&ldquo;unmanned aerial vehicle&rdquo;, or &ldquo;drone&rdquo;) weighing between 0.5 and 55 lbs to register with the FAA.
    <span class="post-stub-more"><a href="/post/2017-05-25-faa-cannot-require-drone-registration/">(more)</a></span>
    </p>
    
</li>


        
    </ol>

    <div class="post-navigation">
        

    <nav class="pagination" role="navigation">
        <span class="page-number">Page 3 of 18</span>
        
            <a class="newer-posts" href="/post/page/2/">&larr; Newer Posts</a>
        
        
            <a class="older-posts" href="/post/page/4/">Older Posts &rarr;</a>
        
    </nav>

    </div>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a title="The Odd Bit" href="/">The Odd Bit</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#">
                        <i class="fa fa-angle-up"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2019 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="/js/jquery-1.11.3.min.js"></script>
        <script src="/js/jquery.fitvids.js"></script>
        
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        
        
        <script src="/js/scripts.js"></script>
    </body>
</html>
